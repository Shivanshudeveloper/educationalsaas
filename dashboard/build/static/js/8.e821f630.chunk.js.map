{"version":3,"sources":["../node_modules/js-file-download/file-download.js","views/dashboard/Default/index.js"],"names":["module","exports","data","filename","mime","bom","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","Dashboard","useState","setLoading","useEffect","userEmail","getSessionStorageOrDefault","appts","setAppts","show","setShow","selected","setSelected","events","setEvents","getAppts","a","axios","get","API_SERVICE","then","res","sample","map","id","push","title","date","startDate","console","log","catch","err","open","fullWidth","maxWidth","onClose","autoFocus","margin","value","label","disabled","sx","mb","justifyContent","alignItems","width","flexDirection","mr","Date","toLocaleDateString","startTime","ml","endDate","endTime","variant","m","minWidth","labelId","recurrenceType","onClick","fetch","url","resp","alert","error","email","Attende","hostUrl","description","multiline","rows","color","container","spacing","gridSpacing","item","xs","plugins","dayGridPlugin","initialView","eventClick","event"],"mappings":"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","file":"static/js/8.e821f630.chunk.js","sourcesContent":["module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","import React, { useEffect, useState } from 'react';\r\nimport FullCalendar from '@fullcalendar/react'; // must go before plugins\r\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin!\r\n// material-ui\r\nimport {\r\n  Grid,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  TextField,\r\n  Box,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  Button,\r\n  DialogActions,\r\n} from '@material-ui/core';\r\n// project imports\r\n\r\nimport { gridSpacing } from 'store/constant';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { storage } from '../../../Firebase/index';\r\nimport { API_SERVICE } from '../../../config';\r\nimport axios from 'axios';\r\nimport { getSessionStorageOrDefault } from 'utils/getSessionStorageOrDefault';\r\n// ===========================|| DEFAULT DASHBOARD ||=========================== //\r\nimport fileDownload from 'js-file-download';\r\n\r\nconst Dashboard = () => {\r\n  const [isLoading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, []);\r\n  const userEmail = getSessionStorageOrDefault('userEmail', '');\r\n  const [appts, setAppts] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [events, setEvents] = useState([]);\r\n  const [downloadUrl, setDownloadUrl] = useState(null);\r\n  const getAppts = async () => {\r\n    await axios\r\n      .get(`${API_SERVICE}/getevents/${userEmail}`)\r\n      .then((res) => {\r\n        let sample = [];\r\n        res.data.map((data, id) =>\r\n          sample.push({ title: data.title, date: data.startDate, id: id })\r\n        );\r\n        console.log(res.data);\r\n        setEvents(res.data);\r\n        setAppts(sample);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    getAppts();\r\n  }, []);\r\n\r\n  const downloadFile = (title) => {\r\n    axios\r\n      .get(`${API_SERVICE}/getVideoUrl/${title}`)\r\n      .then((res) => {\r\n        fetch(res.data.data.url)\r\n          .then((resp) => resp.blob())\r\n          .then((blob) => {\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.style.display = 'none';\r\n            a.href = url;\r\n            // the filename you want\r\n            a.download = title;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            // alert('your file has downloaded!'); // or you know, something with better UX...\r\n          })\r\n          .catch(() => alert('oh no!'));\r\n        // setDownloadUrl(res.data.data.url);\r\n        // window.open(res.data.data.url, '_blank');\r\n        // axios\r\n        //   .get(res.data.data.url, {\r\n        //     responseType: 'blob',\r\n        //   })\r\n        //   .then((res) => {\r\n        //     fileDownload(res.data, title);\r\n        //   });\r\n        // console.log(res.data.data.url);\r\n        return res.data.data.url;\r\n      })\r\n      .catch((error) => {\r\n        // Handle any errors\r\n        console.log(error);\r\n      });\r\n  };\r\n  // console.log(selected);\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={show}\r\n        fullWidth\r\n        maxWidth='sm'\r\n        onClose={() => {\r\n          setShow(false);\r\n          setSelected(null);\r\n        }}\r\n        aria-labelledby='form-dialog-title'\r\n      >\r\n        <DialogTitle id='form-dialog-title'>Event</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            value={selected?.title}\r\n            fullWidth\r\n            label='Title'\r\n            disabled\r\n            sx={{ mb: 2 }}\r\n            type='text'\r\n          />\r\n\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              justifyContent: 'space-evenly',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                width: '50%',\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                mr: 2,\r\n              }}\r\n            >\r\n              <TextField\r\n                disabled\r\n                autoFocus\r\n                margin='dense'\r\n                id='name'\r\n                value={new Date(selected?.startDate).toLocaleDateString()}\r\n                sx={{ mb: 2, width: '60%' }}\r\n                type='text'\r\n              />\r\n              <TextField\r\n                disabled\r\n                autoFocus\r\n                margin='dense'\r\n                id='name'\r\n                value={selected?.startTime}\r\n                sx={{ mb: 2, width: '60%' }}\r\n                type='text'\r\n              />\r\n            </Box>\r\n            <h3>to</h3>\r\n            <Box\r\n              sx={{\r\n                width: '50%',\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                ml: 2,\r\n              }}\r\n            >\r\n              <TextField\r\n                disabled\r\n                autoFocus\r\n                margin='dense'\r\n                id='name'\r\n                value={new Date(selected?.endDate).toLocaleDateString()}\r\n                sx={{ mb: 2, width: '60%' }}\r\n                type='text'\r\n              />\r\n              <TextField\r\n                disabled\r\n                autoFocus\r\n                margin='dense'\r\n                id='name'\r\n                value={selected?.endTime}\r\n                sx={{ mb: 2, width: '60%' }}\r\n                type='text'\r\n              />\r\n            </Box>\r\n          </Box>\r\n          <FormControl disabled variant='filled' sx={{ m: 1, minWidth: 120 }}>\r\n            <Select\r\n              labelId='demo-simple-select-filled-label'\r\n              id='demo-simple-select-filled'\r\n              value={selected?.recurrenceType}\r\n            >\r\n              <MenuItem value={\"Doesn't repeat\"}>Doesn't repeat</MenuItem>\r\n              <MenuItem value={'Custom'}>Custom</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <br />\r\n          <Button\r\n            variant='contained'\r\n            sx={{ width: '100%' }}\r\n            onClick={() => downloadFile(selected?.title)}\r\n            // onClick={() => }\r\n          >\r\n            Download\r\n          </Button>\r\n          <TextField\r\n            autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            fullWidth\r\n            value={selected?.email}\r\n            disabled\r\n            label='Email'\r\n            sx={{ mb: 2 }}\r\n            type='text'\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            fullWidth\r\n            value={selected?.Attende}\r\n            label='Attende'\r\n            disabled\r\n            sx={{ mb: 2 }}\r\n            type='text'\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            fullWidth\r\n            value={selected?.hostUrl}\r\n            label='Host URL:'\r\n            disabled\r\n            sx={{ mb: 2 }}\r\n            type='text'\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            fullWidth\r\n            value={selected?.description}\r\n            disabled\r\n            label='Description'\r\n            multiline\r\n            rows={4}\r\n            sx={{ mb: 2 }}\r\n            type='text'\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setShow(false);\r\n              setSelected(null);\r\n            }}\r\n            color='primary'\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Grid container spacing={gridSpacing}>\r\n        <Grid item xs={12}>\r\n          <MainCard>\r\n            <FullCalendar\r\n              plugins={[dayGridPlugin]}\r\n              initialView='dayGridMonth'\r\n              eventClick={({ event }) => {\r\n                setSelected(events[event.id]);\r\n                setShow(true);\r\n              }}\r\n              events={appts}\r\n            />\r\n          </MainCard>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}