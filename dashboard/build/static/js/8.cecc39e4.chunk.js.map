{"version":3,"sources":["../node_modules/js-file-download/file-download.js","views/dashboard/Default/index.js"],"names":["module","exports","data","filename","mime","bom","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","Dashboard","useState","setLoading","useEffect","userEmail","getSessionStorageOrDefault","appts","setAppts","show","setShow","selected","setSelected","events","setEvents","getAppts","a","axios","get","API_SERVICE","then","res","sample","map","id","push","title","date","startDate","console","log","catch","err","open","fullWidth","maxWidth","onClose","autoFocus","margin","value","label","disabled","sx","mb","justifyContent","alignItems","width","flexDirection","mr","Date","toLocaleDateString","startTime","ml","endDate","endTime","variant","m","minWidth","labelId","recurrenceType","onClick","fetch","url","resp","alert","error","email","Attende","hostUrl","description","multiline","rows","color","container","spacing","gridSpacing","item","xs","plugins","dayGridPlugin","initialView","eventClick","event"],"mappings":"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","file":"static/js/8.cecc39e4.chunk.js","sourcesContent":["module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","import React, { useEffect, useState } from 'react';\nimport FullCalendar from '@fullcalendar/react'; // must go before plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin!\n// material-ui\nimport {\n  Grid,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  TextField,\n  Box,\n  FormControl,\n  Select,\n  MenuItem,\n  Button,\n  DialogActions,\n} from '@material-ui/core';\n// project imports\n\nimport { gridSpacing } from 'store/constant';\nimport MainCard from 'ui-component/cards/MainCard';\nimport { storage } from '../../../Firebase/index';\nimport { API_SERVICE } from '../../../config';\nimport axios from 'axios';\nimport { getSessionStorageOrDefault } from 'utils/getSessionStorageOrDefault';\n// ===========================|| DEFAULT DASHBOARD ||=========================== //\nimport fileDownload from 'js-file-download';\n\nconst Dashboard = () => {\n  const [isLoading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(false);\n  }, []);\n  const userEmail = getSessionStorageOrDefault('userEmail', '');\n  const [appts, setAppts] = useState([]);\n  const [show, setShow] = useState(false);\n  const [selected, setSelected] = useState(null);\n  const [events, setEvents] = useState([]);\n  const [downloadUrl, setDownloadUrl] = useState(null);\n  const getAppts = async () => {\n    await axios\n      .get(`${API_SERVICE}/getevents/${userEmail}`)\n      .then((res) => {\n        let sample = [];\n        res.data.map((data, id) =>\n          sample.push({ title: data.title, date: data.startDate, id: id })\n        );\n        console.log(res.data);\n        setEvents(res.data);\n        setAppts(sample);\n      })\n      .catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getAppts();\n  }, []);\n\n  const downloadFile = (title) => {\n    axios\n      .get(`${API_SERVICE}/getVideoUrl/${title}`)\n      .then((res) => {\n        fetch(res.data.data.url)\n          .then((resp) => resp.blob())\n          .then((blob) => {\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.style.display = 'none';\n            a.href = url;\n            // the filename you want\n            a.download = title;\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            // alert('your file has downloaded!'); // or you know, something with better UX...\n          })\n          .catch(() => alert('oh no!'));\n        // setDownloadUrl(res.data.data.url);\n        // window.open(res.data.data.url, '_blank');\n        // axios\n        //   .get(res.data.data.url, {\n        //     responseType: 'blob',\n        //   })\n        //   .then((res) => {\n        //     fileDownload(res.data, title);\n        //   });\n        // console.log(res.data.data.url);\n        return res.data.data.url;\n      })\n      .catch((error) => {\n        // Handle any errors\n        console.log(error);\n      });\n  };\n  // console.log(selected);\n  return (\n    <>\n      <Dialog\n        open={show}\n        fullWidth\n        maxWidth='sm'\n        onClose={() => {\n          setShow(false);\n          setSelected(null);\n        }}\n        aria-labelledby='form-dialog-title'\n      >\n        <DialogTitle id='form-dialog-title'>Event</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin='dense'\n            id='name'\n            value={selected?.title}\n            fullWidth\n            label='Title'\n            disabled\n            sx={{ mb: 2 }}\n            type='text'\n          />\n\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-evenly',\n              alignItems: 'center',\n            }}\n          >\n            <Box\n              sx={{\n                width: '50%',\n                display: 'flex',\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                mr: 2,\n              }}\n            >\n              <TextField\n                disabled\n                autoFocus\n                margin='dense'\n                id='name'\n                value={new Date(selected?.startDate).toLocaleDateString()}\n                sx={{ mb: 2, width: '60%' }}\n                type='text'\n              />\n              <TextField\n                disabled\n                autoFocus\n                margin='dense'\n                id='name'\n                value={selected?.startTime}\n                sx={{ mb: 2, width: '60%' }}\n                type='text'\n              />\n            </Box>\n            <h3>to</h3>\n            <Box\n              sx={{\n                width: '50%',\n                display: 'flex',\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                ml: 2,\n              }}\n            >\n              <TextField\n                disabled\n                autoFocus\n                margin='dense'\n                id='name'\n                value={new Date(selected?.endDate).toLocaleDateString()}\n                sx={{ mb: 2, width: '60%' }}\n                type='text'\n              />\n              <TextField\n                disabled\n                autoFocus\n                margin='dense'\n                id='name'\n                value={selected?.endTime}\n                sx={{ mb: 2, width: '60%' }}\n                type='text'\n              />\n            </Box>\n          </Box>\n          <FormControl disabled variant='filled' sx={{ m: 1, minWidth: 120 }}>\n            <Select\n              labelId='demo-simple-select-filled-label'\n              id='demo-simple-select-filled'\n              value={selected?.recurrenceType}\n            >\n              <MenuItem value={\"Doesn't repeat\"}>Doesn't repeat</MenuItem>\n              <MenuItem value={'Custom'}>Custom</MenuItem>\n            </Select>\n          </FormControl>\n          <br />\n          <Button\n            variant='contained'\n            sx={{ width: '100%' }}\n            onClick={() => downloadFile(selected?.title)}\n            // onClick={() => }\n          >\n            Download\n          </Button>\n          <TextField\n            autoFocus\n            margin='dense'\n            id='name'\n            fullWidth\n            value={selected?.email}\n            disabled\n            label='Email'\n            sx={{ mb: 2 }}\n            type='text'\n          />\n          <TextField\n            autoFocus\n            margin='dense'\n            id='name'\n            fullWidth\n            value={selected?.Attende}\n            label='Attende'\n            disabled\n            sx={{ mb: 2 }}\n            type='text'\n          />\n          <TextField\n            autoFocus\n            margin='dense'\n            id='name'\n            fullWidth\n            value={selected?.hostUrl}\n            label='Host URL:'\n            disabled\n            sx={{ mb: 2 }}\n            type='text'\n          />\n          <TextField\n            autoFocus\n            margin='dense'\n            id='name'\n            fullWidth\n            value={selected?.description}\n            disabled\n            label='Description'\n            multiline\n            rows={4}\n            sx={{ mb: 2 }}\n            type='text'\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              setShow(false);\n              setSelected(null);\n            }}\n            color='primary'\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Grid container spacing={gridSpacing}>\n        <Grid item xs={12}>\n          <MainCard>\n            <FullCalendar\n              plugins={[dayGridPlugin]}\n              initialView='dayGridMonth'\n              eventClick={({ event }) => {\n                setSelected(events[event.id]);\n                setShow(true);\n              }}\n              events={appts}\n            />\n          </MainCard>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default Dashboard;\n"],"sourceRoot":""}